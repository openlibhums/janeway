{% load orcid %}
{% load static %}

<label for="id_orcid">{{ form.orcid.label }}</label>
{% if form.orcid.value %}
    <input type="hidden" name="{{ form.orcid.name }}" value="{{ form.orcid.value }}"/>
    <p><a href="{{ form.instance.get_orcid_url }}"><img alt="ORCID logo" src="{% static 'common/img/icons/orcid.gif' %}">&nbsp;{{ form.instance.get_orcid_url }}</a></p>
    {% if form.instance.is_orcid_token_valid %}
        {% if form.instance == request.user or request.user.is_admin %}
            <p><a class="tiny button" href="{{ request.get_full_path }}?remove_orcid=True">Remove</a></p>
        {% endif %}
    {% else %}
        <p class="callout warning">ORCiD could not be validated.</p>
    {% endif %}
{% endif %}
{% if not form.orcid.value or not form.instance.is_orcid_token_valid %}
    {% if form.instance == request.user %}
        <a href="{% orcid_login_url 'core_profile_add_orcid' %}" class="button expanded orcid-button">Connect your ORCiD</a>
    {% endif %}
 {% endif %}
