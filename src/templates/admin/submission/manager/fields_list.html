{% extends "admin/core/base.html" %}

{% block title %}Article Fields{% endblock %}
{% block title-section %}Article Fields{% endblock %}

{% block breadcrumbs %}
  {{ block.super }}
  <li><a href="{% url 'core_manager_index' %}">Manager</a></li>
  {% if field %}
    <li><a href="{% url 'submission_fields' %}">Submission Fields</a></li>
    <li>Edit {{ field.name }}</li>
  {% else %}
    <li>Article Fields</li>
  {% endif %}
{% endblock %}

{% block body %}
  <div class="row expanded">
    <div class="large-6 columns">
      {% for section_title, fields in grouped_fields %}
        <div class="box">
          <div class="title-area">
            <h2>{{ section_title }}</h2>
          </div>
          <div class="content">
            {% if fields %}
              {% if section_title == "Global" %}
                <p>Global fields always appear first in the interface for all articles
                  submitted.</p>
              {% endif %}
              <table class="table table-striped table-bordered mb-0">
                <thead>
                <tr>
                  <th>Name</th>
                  <th>Kind</th>
                  <th>Required</th>
                  <th>Display</th>
                  <th>Order</th>
                  <th>Actions</th>
                </tr>
                </thead>
                <tbody>
                {% for field in fields %}
                  <tr>
                    <td>{{ field.name }}</td>
                    <td>{{ field.kind }}</td>
                    <td>{{ field.required|yesno:"Yes,No" }}</td>
                    <td>{{ field.display|yesno:"Yes,No" }}</td>
                    <td>{{ field.order }}</td>
                    <td>
                      <a href="" class="btn btn-xs btn-primary">Edit</a>
                      <a href="" class="btn btn-xs btn-danger">Delete</a>
                    </td>
                  </tr>
                {% endfor %}
                </tbody>
              </table>
            {% else %}
              <p class="m-2">No fields assigned.</p>
            {% endif %}
          </div>
        </div>
      {% endfor %}
    </div>
  </div>

  <a href="" class="btn btn-success">Add New Field</a>
{% endblock %}
