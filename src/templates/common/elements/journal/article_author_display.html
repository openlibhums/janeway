{% load static %}

<span
  class="comma-separated"
  itemscope
  itemtype="http://schema.org/Person"
  itemprop="author">
  {% if author.author and author.author.enable_public_profile %}
    {% spaceless %}
      <span itemprop="name">
        <a
          class="profilelink"
          href="{% url 'core_public_profile' author.author.uuid %}">
          <span>{{ author.full_name }}</span>
        </a>
      </span>
    {% endspaceless %}
    {% if author.orcid %}
      {% spaceless %}
        <span>
          <a
            href="https://orcid.org/{{ author.orcid }}"
            target="_blank">
            {% include "common/svg/orcid-mono.svg" %}
            <span class="sr-only">
              {{author.full_name}} {% trans 'ORCID profile.' %}
            </span>
            <span class="sr-only show-for-sr">
              {% trans "(opens in new tab)" %}
            </span>
          </a>
        </span>
      {% endspaceless %}
    {% endif %}
  {% else %}
    {% if author.orcid %}
      {% spaceless %}
        <span>
          <a
            href="https://orcid.org/{{ author.orcid }}"
            target="_blank">
            <span itemprop="name">
              <span>{{ author.full_name }}</span>
            </span>
            {% include "common/svg/orcid-mono.svg" %}
            <span class="sr-only">{{author.full_name}} {% trans 'ORCID profile.' %}</span>
            <span class="sr-only show-for-sr">
              {% trans "(opens in new tab)" %}
            </span>
          </a>
        </span>
      {% endspaceless %}
    {% else %}
      {% spaceless %}
        <span itemprop="name">
          <span>{{ author.full_name }}</span>
        </span>
      {% endspaceless %}
    {% endif %}
  {% endif %}
  {% if author.display_email and not journal_settings.article.hide_author_email_links %}
    {% spaceless %}
      <span>
        <a
          target="_blank"
          itemprop="email"
          href="mailto:{{ author.email }}">
          <span>{{ author.email }}</span>
          <span class="sr-only show-for-sr">
            {% trans "(opens in new tab)" %}
          </span>
        </a>
      </span>
    {% endspaceless %}
  {% endif %}
  {% if author.affiliations.exists %}
    {% include "common/elements/affiliation_display.html" with affiliation=author.primary_affiliation %}
  {% endif %}
</span>
