{% load static %}

<div class="reveal" id="complete" data-reveal data-animation-in="slide-in-up"
     data-animation-out="slide-out-down">
    <div class="card">
        <div class="card-divider">
            <h4><i class="fa fa-check">&nbsp;</i>Complete Typesetting</h4>
        </div>
        <div class="card-section">
            {% if next_element %}
            <p>Complete Typesetting stage and move the article into {{ next_element|capfirst }}.</p>
            {% else %}
            <p>Complete the typesetting stage. This is the final element in your workflow.</p>
            {% endif %}
            {% if pending_tasks %}
            <p> This action will cancel any open tasks. Assignees will be notified accordingly.</p>
            <div class="callout bs-callout-warning">
                <span class="fa fa-warning-circle"></span> Problems detected: <br/><br/>
                <ul>
                    {% for pending_task in pending_tasks %}
                    <li>{{ pending_task}}</li>
                    {% endfor %}
                </ul>
            </div>
            {% endif %}
            <form method="POST">
                {% csrf_token %}
                <button type="submit" class="button success" name="complete-typesetting"><i class="fa fa-check">&nbsp;</i>Complete</button>
            </form>
        </div>
    </div>
    <button class="close-button" data-close aria-label="Close modal" type="button">
        <span aria-hidden="true">&times;</span>
    </button>
</div>
